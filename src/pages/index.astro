---
import Layout from "../layouts/Layout.astro";
import LogoMicrosoft from "../assets/logo-microsoft.png";
import LogoReddit from "../assets/logo-reddit.png";
import LogoAdobe from "../assets/logo-adobe.png";
import LogoAirbnb from "../assets/logo-airbnb.png";
import LogoStripe from "../assets/logo-stripe.png";
import KeepScroll from "../assets/keep-scrolling.png";
import Iphone15 from "../assets/iphone15.png";
import MockupIphone15 from "../assets/iphone15-4.png";
import Iphone15_5 from "../assets/iphone15-5.png";
import Iphone15_6 from "../assets/iphone15-6.png";
import UsbIphone15 from "../assets/usb-c-iphone15.png";
---

<Layout>
	<!-- Hero Section -->
	<section
		id="hero"
		class="flex flex-col items-center justify-center m-auto relative min-h-[400px] md:min-h-[600px] lg:min-h-[500px]"
	>
		<h1
			class="text-[3rem] relative bottom-29 md:text-[6rem] lg:text-[10rem] font-bold uppercase tracking-[4px] md:tracking-[8px] lg:tracking-[10px] text-[#391824] md:text-start"
		>
			iphone 15
		</h1>
		<img
			id="iphone15"
			src={Iphone15.src}
			alt="Iphone 15"
			class="absolute left-1/2 -translate-x-1/2 bottom-[20px] md:bottom-[-80px] lg:bottom-[-290px] h-[300px] md:h-[500px] lg:h-[650px] lg:w-[-200px] w-auto mask-b-from-80% mask-b-to-100%"
		/>
	</section>
	<!-- Carousel Logo -->
	<h2
		class="text-[#391824] text-xl md:text-2xl font-bold text-center uppercase mt-40 md:mt-80 lg:mt-100"
	>
		Con la confianza de las marcas que conoces
	</h2>
	<div
		id="carusel-logo"
		class="flex items-center overflow-hidden mt-10 md:mt-20 gap-6 md:gap-10 w-full px-2 md:px-10"
	>
		<div
			id="logo-track"
			class="flex gap-6 md:gap-10 items-center min-w-max"
		>
			<img
				src={LogoMicrosoft.src}
				alt="Logo Microsoft"
				class="h-10 w-10 md:h-20 md:w-20"
			/>
			<img
				src={LogoReddit.src}
				alt="Logo Reddit"
				class="h-8 w-16 md:h-10 md:w-20"
			/>
			<img
				src={LogoAdobe.src}
				alt="Logo Adobe"
				class="h-8 w-20 md:h-10 md:w-30"
			/>
			<img
				src={LogoAirbnb.src}
				alt="Logo Airbnb"
				class="h-10 w-20 md:h-20 md:w-30"
			/>
			<img
				src={LogoStripe.src}
				alt="Logo Stripe"
				class="h-8 w-20 md:h-15 md:w-30"
			/>
			<!-- Duplicados para efecto infinito -->
			<img
				src={LogoMicrosoft.src}
				alt="Logo Microsoft"
				class="h-10 w-10 md:h-20 md:w-20"
			/>
			<img
				src={LogoReddit.src}
				alt="Logo Reddit"
				class="h-8 w-16 md:h-10 md:w-20"
			/>
			<img
				src={LogoAdobe.src}
				alt="Logo Adobe"
				class="h-8 w-20 md:h-10 md:w-30"
			/>
			<img
				src={LogoAirbnb.src}
				alt="Logo Airbnb"
				class="h-10 w-20 md:h-20 md:w-30"
			/>
			<img
				src={LogoStripe.src}
				alt="Logo Stripe"
				class="h-8 w-20 md:h-15 md:w-30"
			/>
			<img
				src={LogoMicrosoft.src}
				alt="Logo Microsoft"
				class="h-10 w-10 md:h-20 md:w-20"
			/>
			<img
				src={LogoReddit.src}
				alt="Logo Reddit"
				class="h-8 w-16 md:h-10 md:w-20"
			/>
			<img
				src={LogoAdobe.src}
				alt="Logo Adobe"
				class="h-8 w-20 md:h-10 md:w-30"
			/>
			<img
				src={LogoAirbnb.src}
				alt="Logo Airbnb"
				class="h-10 w-20 md:h-20 md:w-30"
			/>
			<img
				src={LogoStripe.src}
				alt="Logo Stripe"
				class="h-8 w-20 md:h-15 md:w-30"
			/>
			<img
				src={LogoMicrosoft.src}
				alt="Logo Microsoft"
				class="h-10 w-10 md:h-20 md:w-20"
			/>
			<img
				src={LogoReddit.src}
				alt="Logo Reddit"
				class="h-8 w-16 md:h-10 md:w-20"
			/>
			<img
				src={LogoAdobe.src}
				alt="Logo Adobe"
				class="h-8 w-20 md:h-10 md:w-30"
			/>
			<img
				src={LogoAirbnb.src}
				alt="Logo Airbnb"
				class="h-10 w-20 md:h-20 md:w-30"
			/>
			<img
				src={LogoStripe.src}
				alt="Logo Stripe"
				class="h-8 w-20 md:h-15 md:w-30"
			/>
		</div>
	</div>
	<!-- features -->
	<section
		id="features"
		class="bg-[#f2cdd5] text-[#391824] shadow-2xl p-9 md:p-40 md:pl-20 rounded-full w-full max-w-[1200px] mx-auto flex flex-col md:flex-col items-center mt-20 md:mt-40 md:text-start lg:w-full lg:min-w-full lg:flex-row lg:gap-20"
	>
		<div class="flex-1 ml-0 md:ml-20 w-full lg:ml-50">
			<ul class="space-y-10 md:space-y-20">
				<li
					class="flex flex-col md:flex-row items-center gap-4 md:gap-6"
				>
					<span
						class="bg-[#d19bac] rounded-full p-4 flex items-center justify-center mb-2 md:mb-0"
					>
						<!-- Auto/car icon -->
						<svg
							class="w-8 h-8 text-white"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							viewBox="0 0 24 24"
							><path
								d="M3 13l2-5a2 2 0 0 1 2-1h10a2 2 0 0 1 2 1l2 5M5 13v4a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-1h8v1a1 1 0 0 0 1 1h1a1 1 0 0 0 1-1v-4"
							></path></svg
						>
					</span>
					<span
						class="text-lg md:text-xl font-bold text-center md:text-left"
						>Integración total con tu auto: navega, recibe
						indicaciones y controla tu música desde la pantalla del
						iPhone 15, compatible con CarPlay y los sistemas más
						avanzados.</span
					>
				</li>
				<li
					class="flex flex-col md:flex-row items-center gap-4 md:gap-6"
				>
					<span
						class="bg-[#d19bac] rounded-full p-4 flex items-center justify-center mb-2 md:mb-0"
					>
						<!-- Chip/CPU icon -->
						<svg
							class="w-8 h-8 text-white"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							viewBox="0 0 24 24"
							><rect x="4" y="4" width="16" height="16" rx="2"
							></rect><path d="M9 9h6v6H9z"></path></svg
						>
					</span>
					<span
						class="text-lg md:text-xl font-bold text-center md:text-left"
						>Rendimiento ultrarrápido: el chip A16 Bionic te permite
						disfrutar de apps, juegos y multitarea sin límites, con
						eficiencia energética mejorada.</span
					>
				</li>
				<li
					class="flex flex-col md:flex-row items-center gap-4 md:gap-6"
				>
					<span
						class="bg-[#d19bac] rounded-full p-4 flex items-center justify-center mb-2 md:mb-0"
					>
						<!-- Credit card icon -->
						<svg
							class="w-8 h-8 text-white"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							viewBox="0 0 24 24"
							><rect x="2" y="7" width="20" height="10" rx="2"
							></rect><path d="M2 11h20"></path></svg
						>
					</span>
					<span
						class="text-lg md:text-xl font-bold text-center md:text-left"
						>Pagos seguros y rápidos: añade tu tarjeta y paga con
						Face ID, Apple Pay y la máxima seguridad biométrica.</span
					>
				</li>
				<li
					class="flex flex-col md:flex-row items-center gap-4 md:gap-6"
				>
					<span
						class="bg-[#d19bac] rounded-full p-4 flex items-center justify-center mb-2 md:mb-0"
					>
						<!-- Music icon -->
						<svg
							class="w-8 h-8 text-white"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							viewBox="0 0 24 24"
							><path d="M9 18V5l12-2v13"></path><circle
								cx="6"
								cy="18"
								r="3"></circle><circle cx="18" cy="16" r="3"
							></circle></svg
						>
					</span>
					<span
						class="text-lg md:text-xl font-bold text-center md:text-left"
						>Música y entretenimiento: controla tus playlists,
						podcasts y streaming directamente desde el nuevo sistema
						de sonido envolvente.</span
					>
				</li>
				<li
					class="flex flex-col md:flex-row items-center gap-4 md:gap-6"
				>
					<span
						class="bg-[#d19bac] rounded-full p-4 flex items-center justify-center mb-2 md:mb-0"
					>
						<!-- Camera icon -->
						<svg
							class="w-8 h-8 text-white"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							viewBox="0 0 24 24"
							><rect x="3" y="7" width="18" height="13" rx="2"
							></rect><circle cx="12" cy="13" r="4"></circle><path
								d="M8 7V5a4 4 0 0 1 8 0v2"></path></svg
						>
					</span>
					<span
						class="text-lg md:text-xl font-bold text-center md:text-left"
						>Fotos y videos profesionales: graba en 4K, edita al
						instante y comparte tus creaciones con la cámara de 48
						MP y las nuevas herramientas de edición.</span
					>
				</li>
				<li
					class="flex flex-col md:flex-row items-center gap-4 md:gap-6"
				>
					<span
						class="bg-[#d19bac] rounded-full p-4 flex items-center justify-center mb-2 md:mb-0"
					>
						<!-- USB-C icon -->
						<svg
							class="w-8 h-8 text-white"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							viewBox="0 0 24 24"
							><rect x="7" y="10" width="10" height="4" rx="2"
							></rect><path d="M11 14v2h2v-2"></path></svg
						>
					</span>
					<span
						class="text-lg md:text-xl font-bold text-center md:text-left"
						>Conectividad universal: USB-C para cargar, transferir y
						conectar todos tus dispositivos Apple y accesorios
						favoritos.</span
					>
				</li>
			</ul>
		</div>
		<!-- Imagen del feature -->
		<div id="iphone-mockup" class="flex-1 w-full flex justify-center">
			<img
				src={MockupIphone15.src}
				alt="iPhone Mockup"
				class="h-[300px] md:h-[700px] lg:h-[800px] object-cover mt-10 md:mt-10 md:ml-20"
			/>
		</div>
	</section>
	<!-- CONTENEDOR PRINCIPAL -->
	<section
		id="horizontal-section"
		class="relative w-full h-screen overflow-hidden"
	>
		<div
			id="contenedor"
			class="flex flex-row h-full text-[#391824] font-bold uppercase text-base md:text-[1.3rem]"
		>
			<!-- Texto 1 -->
			<div
				class="min-w-[90%] md:min-w-[60%] flex items-center justify-center px-6 scroll-snap-align-start"
			>
				<h2 class="text-sm md:text-2xl leading-relaxed max-w-[40ch]">
					El iPhone 15 te ofrece la mejor experiencia móvil: diseño
					premium, cámara de 48 MP, USB-C universal y el potente chip
					A16 Bionic.
				</h2>
			</div>

			<!-- Imagen 1 -->
			<div
				class="min-w-[80%] md:min-w-[40%] flex justify-center items-center scroll-snap-align-start"
			>
				<img
					src={Iphone15_5.src}
					alt="iPhone 15 diseño"
					class="h-[200px] w-[200px] md:h-[400px] md:w-[400px]"
				/>
			</div>

			<!-- Texto 2 -->
			<div
				class="min-w-[90%] md:min-w-[60%] flex items-center justify-center px-6 scroll-snap-align-start"
			>
				<h2 class="text-sm md:text-2xl leading-relaxed max-w-[40ch]">
					Cámara principal de 48 MP: nitidez y color impresionantes,
					incluso en condiciones de poca luz.
				</h2>
			</div>

			<!-- Imagen 2 -->
			<div
				class="min-w-[80%] md:min-w-[40%] flex justify-center items-center scroll-snap-align-start"
			>
				<img
					src={Iphone15_6.src}
					alt="Cámara principal iPhone 15"
					class="h-[250px] w-[180px] md:h-[600px] md:w-[450px]"
				/>
			</div>

			<!-- Texto 3 -->
			<div
				class="min-w-[90%] md:min-w-[60%] flex items-center justify-center px-6 scroll-snap-align-start"
			>
				<h2 class="text-sm md:text-2xl leading-relaxed max-w-[40ch]">
					USB-C: conecta y carga tus dispositivos con un mismo cable,
					rápido y universal.
				</h2>
			</div>

			<!-- Imagen 3 -->
			<div
				class="min-w-[80%] md:min-w-[40%] flex justify-center items-center scroll-snap-align-start"
			>
				<img
					src={UsbIphone15.src}
					alt="Puerto USB-C"
					class="h-[250px] w-[200px] md:h-[600px] md:w-[500px]"
				/>
			</div>
		</div>
	</section>
</Layout>

<script>
	import { gsap } from "gsap";
	import { SplitText } from "gsap/SplitText";
	gsap.registerPlugin(SplitText);
	import { ScrollTrigger } from "gsap/ScrollTrigger";
	gsap.registerPlugin(ScrollTrigger);

	gsap.from("#hero > *", {
		duration: 2,
		y: -100,
		opacity: 0,
		stagger: 1,
		ease: "power2.out",
	});
	window.addEventListener("DOMContentLoaded", () => {
		const logoTrack = document.getElementById("logo-track");
		if (!logoTrack) return; // Prevent null errors
		const logosWidth = logoTrack.scrollWidth / 3;

		gsap.to(logoTrack, {
			x: -logosWidth,
			duration: 20,
			ease: "linear",
			repeat: -1,
			modifiers: {
				x: gsap.utils.unitize(
					(x: number) => parseFloat(String(x)) % -logosWidth,
				),
			},
		});
	});

	// Animación GSAP scroll horizontal en #contenedor

	window.addEventListener("load", () => {
		const contenedor = document.querySelector("#contenedor");
		if (!contenedor) return;
		const sections = gsap.utils.toArray("#contenedor > div");

		// Detecta si es móvil
		const isMobile = window.innerWidth < 768;
		const blocksToScroll = isMobile ? sections.length - 2 : sections.length - 4;

		gsap.to(contenedor, {
			xPercent: -100 * blocksToScroll,
			ease: "none",
			scrollTrigger: {
				trigger: "#horizontal-section",
				pin: true,
				scrub: 1,
				end: `+=${contenedor.scrollWidth - window.innerWidth}`,
			},
		});
	});

	gsap.from("#features > div", {
		scrollTrigger: {
			trigger: "#features",
			start: "top 60%",
		},
		duration: 1.2,
		y: -100,
		opacity: 0,
		stagger: 0.3,
		ease: "power2.out",
	});
</script>
